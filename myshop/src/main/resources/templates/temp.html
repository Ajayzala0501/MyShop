<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="base_page ::Layout('New Product Page',~{::link},~{:: .main-section},~{::script},~{:: .header-section})">

<head>
	<title>Add New Product Page</title>
	<link th:href="@{/css/plugins/select2/select2.min.css}" rel="stylesheet">
	</link>
	<link th:href="@{/css/plugins/touchspin/jquery.bootstrap-touchspin.min.css}" rel="stylesheet">

</head>

<body>
	<div class="header-section">
		<div class="col-sm-4">
			<h2>Add New Product</h2>
			<ol class="breadcrumb">
				<li>
					<a href="index.html">Manage Product</a>
				</li>
				<li class="active">
					<strong>Add New Product</strong>
				</li>
			</ol>
		</div>

	</div>
	<div class="main-section">
		<div class="row">
			<div class="col-lg-8">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>Add New Product Information </h5>
						<div class="ibox-tools">
							<a class="collapse-link">
								<i class="fa fa-chevron-up"></i>
							</a>

						</div>
					</div>
					<div class="ibox-content">
						<form role="form" id="productInfoForm">
							<div class="row">
								<div class="col-sm-12">
									<div hidden id="error-for-product" style=" padding: 7px;"
										class="alert alert-danger">
										<p></p>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div><label>Select Product Type</label>
										<select id="productTypeSelectOption" name="productTypeSelectOption"
											class="select2_demo_3 form-control">
										</select>
									</div>
								</div>
								<div class="col-sm-6">
									<div class="form-group"><label> Select Product Company</label>
										<select id="productCompanySelectOption" name="productCompanySelectOption"
											class="select2_demo_3 form-control">
										</select>
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-sm-6">
									<div class="form-group"><label>Product Model</label>

										<input type="text" id="productModel" name="productModel" class="form-control">
									</div>
								</div>
								<div class="col-sm-3">

									<div class="form-group"><label>Product Color</label>

										<input type="text" id="productColorName" name="productColorName"
											class="form-control">
									</div>
								</div>
								<div class="col-sm-3" style=" margin-top: 22px;">
									<div class="form-group">
										<input type="color" id="productColor" name="productColor" class="form-control">
									</div>
								</div>
							</div>
							<div class="row">

								<div class="col-sm-3">
									<div class="form-group">

										<button class="btn btn-sm btn-info btn-outline m-t-n-xs"
											id="btn-add-specification" type="button"><strong>Add
												Specification</strong></button>
									</div>
								</div>
							</div>
							<div class="row" id="specification-table-hide-show">
								<div class="col-sm-12">
									<div class="ibox float-e-margins">
										<div class="ibox-title">
											<h5>Add Product Specificatios </h5>
											<div class="ibox-tools">
												<a class="collapse-link">
													<i class="fa fa-chevron-up"></i>
												</a>
											</div>
										</div>
										<div class="ibox-content">

											<table class="table table-hover"id="tbl-specification-input">
												<thead>
													<tr class="text-center">
														<th>#</th>
														<th>Specification</th>
														<th>Value</th>
														<th>Action</th>
													</tr>
												</thead>
												<tbody id="tbl-body-specification-input">
													<tr class="text-center main-tr">
														<td id='first'>1</td>
														<td><input type="text" style="height:25px" id="spec-input"
																name="spec-input"
																class="spec-input typeahead_1 form-control">
														</td>
														<td><input type="text" style="height:25px" id="spec-value"
																name="spec-value" class="spec-value form-control">
														</td>
														<td class="text-navy text-center"> <a href="#"><i
																	style='color:red;' id='btn-delete'
																	class="fa fa-trash-o fa-lg"></i></a></td>
													</tr>

												</tbody>
												<tfoot>
													<tr>
														<td colspan="4"><button style="margin-top: 6px;"
																class="btn btn-sm btn-success btn-outline m-t-n-xs"
																id="btn-add-row" type="button"><strong>Add
																	Row</strong></button></td>
													</tr>
												</tfoot>
											</table>
										</div>
									</div>
								</div>

							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="form-group"><label>Product Quntity</label>

										<input class="touchspin1" type="text" min="1" name="productQuantity"
											id="productQuantity">
									</div>
								</div>
								<div class="col-sm-6">
									<div class="form-group"><label>Product Price</label>

										<input type="number" class="form-control" id="productPrice" name="productPrice"
											min="1" step="any" />
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-sm-1">
									<button class="btn btn-sm btn-primary m-t-n-xs" type="submit"><strong>Add Product
											Information</strong></button>

								</div>
								<div class="col-sm-2"></div>
								<div class="col-sm-5">
									<button class="btn btn-sm btn-danger m-t-n-xs"
										type="reset"><strong>Reset</strong></button>

								</div>
							</div>

						</form>
					</div>
					<div class="ibox-footer">
						<span class="pull-right">
							The righ side of the footer
						</span>
						This is simple footer example
					</div>
				</div>
			</div>
			<div class="col-lg-4">
				<div class="row">
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>Add New Product Type</h5>
								<div class="ibox-tools">
									<a class="collapse-link">
										<i class="fa fa-chevron-up"></i>
									</a>

								</div>
							</div>
							<div class="ibox-content">
								<form role="form" id="productTypeForm">
									<div class="row">
										<div class="col-sm-12">
											<div id="error-for-type" style=" padding: 7px;" hidden
												class="alert alert-danger">
												<p></p>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-12">
											<div class="form-group"><label>Product Type</label>

												<input type="text" name="productTypeName" id="productTypeName"
													class="form-control">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-1">
											<div class="form-group">

												<button class="btn btn-sm btn-primary m-t-n-xs text-center"
													type="submit"><strong>Add Type</strong></button>
											</div>
										</div>
										<div class="col-sm-2"></div>
										<div class="col-sm-1">
											<button class="btn btn-sm btn-danger m-t-n-xs"
												type="submit"><strong>Reset</strong></button>

										</div>
									</div>
								</form>
							</div>

						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
						<div class="ibox float-e-margins">
							<div class="ibox-title">
								<h5>Add New Product Company</h5>
								<div class="ibox-tools">
									<a class="collapse-link">
										<i class="fa fa-chevron-up"></i>
									</a>

								</div>
							</div>
							<div class="ibox-content">
								<form role="form" id="productCompanyForm">
									<div class="row">
										<div class="col-sm-12">
											<div id="error-for-company" hidden style=" padding: 7px;"
												class="alert alert-danger">
												<p></p>
											</div>
										</div>
									</div>
									<div class="row">

										<div class="col-sm-6">
											<div class="form-group"><label>Product Company</label>

												<input type="text" name="productCompanyName" required
													id="productCompanyName" class="form-control">
											</div>
										</div>
										<div class="col-sm-6">
											<div><label>Select Product Type</label>
												<select id="productTypeSelectOptionWithCompany"
													name="productTypeSelectOptionWithCompany"
													class="select2_demo_3 form-control">
													<option></option>
												</select>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-sm-1">
											<div class="form-group">

												<button class="btn btn-sm btn-primary m-t-n-xs text-center"
													type="submit"><strong>Add Company</strong></button>
											</div>
										</div>
										<div class="col-sm-3"></div>
										<div class="col-sm-1">
											<button class="btn btn-sm btn-danger m-t-n-xs"
												type="submit"><strong>Reset</strong></button>

										</div>
									</div>
								</form>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
	<script th:src="@{/js/plugins/select2/select2.full.min.js}"></script>
	<!-- TouchSpin -->
	<script th:src="@{/js/plugins/touchspin/jquery.bootstrap-touchspin.min.js}"></script>
	<script th:src="@{/js/plugins/typehead/bootstrap3-typeahead.min.js}"></script>
	<script th:src="@{/js/customjs/addNewProduct.js}"></script>
	<script th:src="@{/js/customjs/colorName.js}"></script>
	<!-- Typehead -->


	<!-- Select2 -->
	
	
	
	<div>
													<div class="ibox">
														<div class="ibox-content product-box">
															<div class="product-desc">
																<div class="row">
																	<div class="col-sm-8" style="height: 39px;">
																		<div id="error-for-product"
																			style=" padding: 7px;"
																			class="alert alert-danger">
																			<p>Stock Does Not Exits</p>
																		</div>
																	</div>
																	<div class="col-sm-4" style="margin-top: -5px;">
																		<input type="hidden" name="hide-prodId"
																			id="hide-prodId">
																		<span class="product-price"
																			style="top: 6px; right: 6px; ">
																			₹ 36000
																		</span>
																	</div>
																</div>
																<p class="product-name"> Pixel 6a</p>
																<div class="small m-t-xs">
																	<div class="row">
																		<div class="col-lg-6">
																			<strong>RAM : </strong> 2GB
																		</div>
																		<div class="col-lg-6">
																			<strong>ROM : </strong> 2GB
																		</div>
																		<div class="col-lg-6">
																			<strong>Category : </strong> Android
																		</div>
																		<div class="col-lg-6">
																			<strong>Color : </strong> White
																		</div>
																	</div>
																</div>
																<div class="m-t text-righ">
																	<div class="row">
																		<div class="col-sm-9">
																			<div class="form-group">

																				<input class="form-control input-sm"
																					id="inputsm"
																					placeholder="Enter Quantity"
																					type="number" min=1>
																			</div>
																		</div>
																		<div class="col-sm-2">
																			<a href="#" style="margin-top: 4px;"
																				class="btn btn-xs btn-outline btn-primary">Add
																				<i class="fa fa-plus-square"></i></a>
																		</div>
																	</div>

																</div>
															</div>
														</div>
													</div>
												</div>
</body>
	//For load all the product company from database
	function getAllProductInformationBasedOnModel() {
		if($('#productModelSelectOption').val()!='' && $('#productModelSelectOption').val() != null){
		var formData =  {
					"typeId":$('#productTypeSelectOption').val() ,
					"companyId":$('#productCompanySelectOption').val(),
					"model":$('#productModelSelectOption').val()
				};			
			$.ajax({
				type: "POST",
				contentType: "application/json",
				url: "/Product/getAllProductInfoBasedOnModel",
				data:JSON.stringify(formData),
				dataType: 'json',
				success: function(data) {
					if (data["status"] == "OK") {
						//$("#productInfoDiv").append('');
						//$("#productInfoDiv").addClass("slick-initialized slick-slider");
						$(".slick-track").empty();
						var cardData = '';
						// cardData = '<div aria-live="polite" class="slick-list draggable" style="padding: 0px 50px;"><div class="slick-track" style="opacity: 1; width: 334px; transform: translate3d(0px, 0px, 0px);" role="listbox">';
						console.log(data["result"]);
						$.each(data["result"], function(i, item) {
						cardData += '<div class="slick-slide slick-current slick-center" data-slick-index="'+i+'" aria-hidden="true" style="width: 334px;" tabindex="-1" role="option" aria-describedby="slick-slide0'+i+'"><div class="ibox"><div class="ibox-content product-box"><div class="product-desc"><div class="row"><div class="col-sm-8" style="height: 39px;"><div id="error-for-product" style=" padding: 7px;" class="alert alert-danger"><p>Stock Does Not Exits</p></div></div><div class="col-sm-4" style="margin-top: -5px;"><input type="hidden" name="hide-prodId" value="'+data["result"][i]["prodId"]+'" id="hide-prodId" tabindex="-1"><span class="product-price" style="top: 6px; right: 6px; ">₹ '+data["result"][i]["productPrice"]+'</span></div></div><p class="product-name"> '+ $('#productModelSelectOption').val()+' </p><div class="small m-t-xs"><div class="row">';	
						//cardData += '<div class="slick-slide slick-current slick-center" data-slick-index="'+i+'" aria-hidden="true" style="width: 334px;" tabindex="-1" role="option" aria-describedby="slick-slide0'+i+'"><div class="ibox"><div class="ibox-content product-box"><div class="product-desc"><div class="row"><div class="col-sm-8" style="height: 39px;"><div id="error-for-product" style=" padding: 7px;" class="alert alert-danger"><p>Stock Does Not Exits</p></div></div><div class="col-sm-4" style="margin-top: -5px;"><input type="hidden" name="hide-prodId" value="'+data["result"][i]["prodId"]+'" id="hide-prodId" tabindex="-1"><span class="product-price" style="top: 6px; right: 6px; ">₹ '+data["result"][i]["productPrice"]+'</span></div></div><p class="product-name"> '+ $('#productModelSelectOption').val()+'</p><div class="small m-t-xs"><div class="row">';
						var specData = JSON.parse(data["result"][i]["productSpecification"]);
						$.each(specData,function(i,item){
							cardData +='<div class="col-lg-6"><strong>'+specData[i]["specification"] +' : </strong> '+specData[i]["specification-value"] +'</div>';
						});
						
						cardData +='<div class="col-lg-6"><strong>Color : </strong> '+data["result"][i]["productColour"] +'</div></div></div><div class="m-t text-righ"><div class="row"><div class="col-sm-9"><div class="form-group"><input class="form-control input-sm" id="inputsm" placeholder="Enter Quantity" type="number" min="1" tabindex="-1"></div></div><div class="col-sm-2"><a href="#" style="margin-top: 4px;" class="btn btn-xs btn-outline btn-primary" tabindex="-1">Add<i class="fa fa-plus-square"></i></a></div></div></div></div></div></div></div>';
						//alert(item['id']+" "+item['name']+" "+item['department']+" "+item['sem']);
						});
						//cardData+='</div></div>';
						
						
						//$("#productInfoDiv").append(cardData);
						//slick-track
						
						$('.slick-track').prepend(cardData);
						//$("#productModelSelectOption").append(opData);
						//$("#productModelSelectOption").select2().trigger('change');
						//opData = '';            
					} 
				}
			})
			}
		}
</html>